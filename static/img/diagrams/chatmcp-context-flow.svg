<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1193b0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0a7a94;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="orangeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#da7756;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#b85d42;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="greenGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7fdc8c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3bbf5c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="purpleGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#c7a4f7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#a47edc;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grayGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e0e0e0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#bdbdbd;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#1193b0" stroke-width="0.5" opacity="0.1"/>
    </pattern>
    <marker id="arrowhead" markerWidth="8" markerHeight="8" refX="6" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 8 4, 0 8" fill="#1193b0"/>
    </marker>
  </defs>
  <!-- Background -->
  <rect width="1200" height="800" fill="#0f0f0f"/>
  <rect width="1200" height="800" fill="url(#grid)"/>
  <!-- Title -->
  <text x="600" y="60" fill="#1193b0" font-family="Arial, sans-serif" font-size="32" font-weight="bold" text-anchor="middle">Context Engineering: chatMCP Flow</text>
  <text x="600" y="90" fill="#da7756" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">API-first, Context-driven Conversational AI</text>
  <!-- User -->
  <g>
    <ellipse cx="120" cy="200" rx="60" ry="40" fill="url(#orangeGradient)" filter="url(#glow)"/>
    <text x="120" y="205" fill="white" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle">User</text>
    <rect x="80" y="240" width="80" height="30" rx="10" fill="url(#purpleGradient)" filter="url(#glow)"/>
    <text x="120" y="260" fill="white" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Input</text>
  </g>
  <!-- Prompt (Short-Term Memory) -->
  <g>
    <rect x="250" y="170" width="220" height="70" rx="20" fill="url(#blueGradient)" filter="url(#glow)"/>
    <text x="360" y="200" fill="white" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle">Prompt</text>
    <text x="360" y="220" fill="#c7a4f7" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Short-Term Memory</text>
  </g>
  <!-- Agent -->
  <g>
    <ellipse cx="600" cy="200" rx="60" ry="40" fill="url(#greenGradient)" filter="url(#glow)"/>
    <text x="600" y="205" fill="white" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle">Agent</text>
    <text x="600" y="225" fill="#7fdc8c" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Reasoning</text>
  </g>
  <!-- RAG -->
  <g>
    <rect x="750" y="120" width="120" height="60" rx="15" fill="url(#blueGradient)" filter="url(#glow)"/>
    <text x="810" y="150" fill="white" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle">RAG</text>
    <text x="810" y="170" fill="#1193b0" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Context</text>
  </g>
  <!-- Action Tools -->
  <g>
    <rect x="750" y="220" width="120" height="60" rx="15" fill="url(#orangeGradient)" filter="url(#glow)"/>
    <text x="810" y="250" fill="white" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle">Action Tools</text>
    <text x="810" y="270" fill="#da7756" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Tool Use/Schemas</text>
  </g>
  <!-- Answer -->
  <g>
    <rect x="950" y="170" width="120" height="60" rx="15" fill="url(#greenGradient)" filter="url(#glow)"/>
    <text x="1010" y="200" fill="white" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle">Answer</text>
  </g>
  <!-- Long-Term Memory -->
  <g>
    <rect x="950" y="320" width="120" height="80" rx="20" fill="url(#blueGradient)" filter="url(#glow)"/>
    <text x="1010" y="350" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">Long-Term</text>
    <text x="1010" y="370" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">Memory</text>
    <text x="1010" y="390" fill="#1193b0" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">MCP Servers / DB</text>
  </g>
  <!-- Chat History (Short-Term Memory) -->
  <g>
    <rect x="250" y="320" width="220" height="60" rx="15" fill="url(#purpleGradient)" filter="url(#glow)"/>
    <text x="360" y="350" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">Chat History</text>
    <text x="360" y="370" fill="#c7a4f7" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Short-Term Memory</text>
  </g>
  <!-- Connections/arrows -->
  <!-- User Input to Prompt -->
  <path d="M 180 200 Q 220 200 250 200" stroke="#c7a4f7" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <!-- Prompt to Agent -->
  <path d="M 470 200 Q 520 200 540 200" stroke="#1193b0" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <!-- Agent to RAG -->
  <path d="M 660 180 Q 740 150 750 150" stroke="#7fdc8c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <!-- Agent to Action Tools -->
  <path d="M 660 220 Q 740 250 750 250" stroke="#da7756" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <!-- RAG to Agent (vector search) -->
  <path d="M 870 150 Q 900 180 660 200" stroke="#1193b0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" opacity="0.5"/>
  <!-- Action Tools to Agent (results) -->
  <path d="M 870 250 Q 900 220 660 200" stroke="#da7756" stroke-width="2" fill="none" marker-end="url(#arrowhead)" opacity="0.5"/>
  <!-- Agent to Answer -->
  <path d="M 660 200 Q 900 200 950 200" stroke="#7fdc8c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <!-- Answer to User -->
  <path d="M 950 200 Q 1100 200 120 200" stroke="#7fdc8c" stroke-width="2" fill="none" marker-end="url(#arrowhead)" opacity="0.5"/>
  <!-- Prompt to Chat History -->
  <path d="M 360 240 Q 360 300 360 320" stroke="#c7a4f7" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <!-- Chat History to Prompt (update) -->
  <path d="M 360 380 Q 360 400 360 170" stroke="#c7a4f7" stroke-width="2" fill="none" marker-end="url(#arrowhead)" opacity="0.5"/>
  <!-- Answer to Long-Term Memory (add to memory) -->
  <path d="M 1010 230 Q 1010 300 1010 320" stroke="#1193b0" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <!-- Chat History to Long-Term Memory (store context) -->
  <path d="M 470 350 Q 900 350 950 350" stroke="#1193b0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" opacity="0.5"/>
  <!-- Legend -->
  <g>
    <rect x="60" y="600" width="320" height="140" rx="18" fill="#1a1a1a" opacity="0.8" stroke="#1193b0" stroke-width="1"/>
    <text x="220" y="625" fill="#1193b0" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle">Legend</text>
    <rect x="80" y="640" width="20" height="20" rx="5" fill="url(#purpleGradient)"/>
    <text x="110" y="655" fill="white" font-family="Arial, sans-serif" font-size="14">User Input / Chat History</text>
    <rect x="80" y="670" width="20" height="20" rx="5" fill="url(#blueGradient)"/>
    <text x="110" y="685" fill="white" font-family="Arial, sans-serif" font-size="14">Prompt / Memory / RAG</text>
    <rect x="80" y="700" width="20" height="20" rx="5" fill="url(#greenGradient)"/>
    <text x="110" y="715" fill="white" font-family="Arial, sans-serif" font-size="14">Agent / Answer</text>
    <rect x="220" y="640" width="20" height="20" rx="5" fill="url(#orangeGradient)"/>
    <text x="250" y="655" fill="white" font-family="Arial, sans-serif" font-size="14">Action Tools</text>
  </g>
  <!-- Branding -->
  <text x="600" y="780" fill="#1193b0" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle">chat</text>
  <text x="650" y="780" fill="#da7756" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle">MCP</text>
  <text x="600" y="795" fill="white" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Context Engineering Flow</text>
</svg>
