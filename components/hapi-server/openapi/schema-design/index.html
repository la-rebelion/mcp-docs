<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-components/hapi-server/openapi/schema-design" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Schema Design in HAPI Server: API-first, OpenAPI, and MCP | HAPI MCP Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.mcp.com.ai/img/dont-build-mcp-server.png"><meta data-rh="true" name="twitter:image" content="https://docs.mcp.com.ai/img/dont-build-mcp-server.png"><meta data-rh="true" property="og:url" content="https://docs.mcp.com.ai/components/hapi-server/openapi/schema-design"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Schema Design in HAPI Server: API-first, OpenAPI, and MCP | HAPI MCP Documentation"><meta data-rh="true" name="description" content="Learn best practices for designing robust, maintainable schemas in HAPI server using OpenAPI and Model Context Protocol (MCP) principles."><meta data-rh="true" property="og:description" content="Learn best practices for designing robust, maintainable schemas in HAPI server using OpenAPI and Model Context Protocol (MCP) principles."><meta data-rh="true" name="keywords" content="schema design,OpenAPI,MCP,HAPI server,API-first,validation,contract"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.mcp.com.ai/components/hapi-server/openapi/schema-design"><link data-rh="true" rel="alternate" href="https://docs.mcp.com.ai/components/hapi-server/openapi/schema-design" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.mcp.com.ai/components/hapi-server/openapi/schema-design" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Components","item":"https://docs.mcp.com.ai/components/"},{"@type":"ListItem","position":2,"name":"HAPI Server","item":"https://docs.mcp.com.ai/components/hapi-server/"},{"@type":"ListItem","position":3,"name":"OpenAPI","item":"https://docs.mcp.com.ai/components/hapi-server/openapi/"},{"@type":"ListItem","position":4,"name":"Schema Design","item":"https://docs.mcp.com.ai/components/hapi-server/openapi/schema-design"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JJJXXEZWK9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JJJXXEZWK9",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-W2QSRMJN",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "headline": "HAPI MCP: The API-first, OpenAPI-Driven Model Context Protocol",
  "description": "Documentation for the Model Context Protocol (MCP) - API-first, OpenAPI-driven development.",
  "keywords": "MCP, Model Context Protocol, OpenAPI, API-first, documentation",
  "about": "Headless API, Model Context Protocol (MCP), OpenAPI, API-first",
  "audience": {
    "@type": "Audience",
    "audienceType": "API Developers, Architects, Product Teams"
  },
  "author": {
    "@type": "Organization",
    "name": "La Rebelion Labs",
    "url": "https://rebelion.la"
  },
  "publisher": {
    "@type": "Organization",
    "name": "MCP Project",
    "url": "https://github.com/la-rebelion/mcp-docs"
  }
}</script>

<script async="true" defer="true" id="hs-script-loader" src="//js.hs-scripts.com/21339207.js"></script>
<script src="https://js.hsforms.net/forms/embed/v2.js" async></script><link rel="stylesheet" href="/assets/css/styles.5484c57a.css">
<script src="/assets/js/runtime~main.1f550714.js" defer="defer"></script>
<script src="/assets/js/main.f2faf7fa.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W2QSRMJN" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/android-chrome-192x192.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" style="transition:all 0.3s ease;transform:scale(1)" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="MCP Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="MCP Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">HAPI MCP</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/overview">Docs</a><a class="navbar__item navbar__link" href="/examples/">Demos</a><a class="navbar__item navbar__link" href="/glossary">Glossary</a><a href="https://rebelion.la/series/mcp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="componentsDropdown_kPNL"><button class="navbarButton_ifSi">Components<svg width="10" height="6" class="navbarButtonIcon_vmtt" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L5 5L9 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="dropdownContainer__7hG dropdownContainerLight_yfO7"><div class="dropdownContent_dEva"><div class="dropdownSection_xqMc"><h3 class="dropdownSectionTitle_S9g2">chatMCP</h3><div class="dropdownItems__w8l"><a class="dropdownItem_zfMh" href="/components/chatmcp"><span class="dropdownItemIcon_ryli">ðŸ’¬</span><div class="dropdownItemContent_rxia"><h4 class="dropdownItemTitle_rW79">Overview</h4><p class="dropdownItemDescription_AtzD">chatMCP component overview and features</p></div></a><a class="dropdownItem_zfMh" href="/components/chatmcp/integrating-with-hapi"><span class="dropdownItemIcon_ryli">ðŸ“š</span><div class="dropdownItemContent_rxia"><h4 class="dropdownItemTitle_rW79">API Reference</h4><p class="dropdownItemDescription_AtzD">Complete API reference for chatMCP</p></div></a></div></div><div class="dropdownSection_xqMc"><h3 class="dropdownSectionTitle_S9g2">HAPI Server</h3><div class="dropdownItems__w8l"><a class="dropdownItem_zfMh" href="/components/hapi-server"><span class="dropdownItemIcon_ryli">ðŸš€</span><div class="dropdownItemContent_rxia"><h4 class="dropdownItemTitle_rW79">Overview</h4><p class="dropdownItemDescription_AtzD">HAPI server component overview and features</p></div></a><a class="dropdownItem_zfMh" href="/components/hapi-server/openapi"><span class="dropdownItemIcon_ryli">ðŸ“š</span><div class="dropdownItemContent_rxia"><h4 class="dropdownItemTitle_rW79">API Reference</h4><p class="dropdownItemDescription_AtzD">Complete API reference for HAPI server</p></div></a></div></div><div class="dropdownSection_xqMc"><h3 class="dropdownSectionTitle_S9g2">runMCP</h3><div class="dropdownItems__w8l"><a class="dropdownItem_zfMh" href="/components/runmcp"><span class="dropdownItemIcon_ryli">âš¡</span><div class="dropdownItemContent_rxia"><h4 class="dropdownItemTitle_rW79">Overview</h4><p class="dropdownItemDescription_AtzD">runMCP component overview and features</p></div></a><a class="dropdownItem_zfMh" href="/components/runmcp/api"><span class="dropdownItemIcon_ryli">ðŸ“š</span><div class="dropdownItemContent_rxia"><h4 class="dropdownItemTitle_rW79">API Reference</h4><p class="dropdownItemDescription_AtzD">Complete API reference for runMCP</p></div></a></div></div></div></div></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://go.rebelion.la/demo-request" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link button--primary">Request a Demo<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_dCNk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed category-intro"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/overview">Introduction</a><button aria-label="Expand sidebar category &#x27;Introduction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed category-getting-started"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item category-intro"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/components/">Components</a><button aria-label="Collapse sidebar category &#x27;Components&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item category-hapi-server"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/components/hapi-server/">HAPI Server</a><button aria-label="Collapse sidebar category &#x27;HAPI Server&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item category-openapi"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/components/hapi-server/openapi/">OpenAPI</a><button aria-label="Collapse sidebar category &#x27;OpenAPI&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item green"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/components/hapi-server/openapi/schema-design">Schema Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item blue"><a class="menu__link" tabindex="0" href="/components/hapi-server/openapi/validation-layers">Validation Layers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/components/hapi-server/openapi/known-issues">Known Issues</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed category-grpc-idl"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/components/hapi-server/grpc-idl/">gRPC IDL</a><button aria-label="Expand sidebar category &#x27;gRPC IDL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/components/hapi-server/routing-engine">HAPI Server Routing Engine</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed category-runmcp"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/components/runmcp/">RunMCP</a><button aria-label="Expand sidebar category &#x27;RunMCP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed category-chatmcp"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/components/chatmcp/">ChatMCP</a><button aria-label="Expand sidebar category &#x27;ChatMCP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed category-agents"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/components/agents/">Agents</a><button aria-label="Expand sidebar category &#x27;Agents&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed category-examples"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/examples/">Examples</a><button aria-label="Expand sidebar category &#x27;Examples&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed category-concepts"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/concepts/what-is-mcp">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed category-cli-tools"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mcp-cli-tools/">CLI Tools</a><button aria-label="Expand sidebar category &#x27;CLI Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/advanced-guides/">Advanced Guides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/deployment/">Deployment Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/servers-apis/openapi">APIs for HAPI Servers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/glossary">Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/components/"><span>Components</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/components/hapi-server/"><span>HAPI Server</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/components/hapi-server/openapi/"><span>OpenAPI</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Schema Design</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Schema Design: API-first, OpenAPI, and MCP</h1></header>
<p>Schema design is the foundation of any API-first system. In HAPI, your OpenAPI schema defines not just endpoints, but also the structure, validation, and semantics of every request and response.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="principles-of-good-schema-design">Principles of Good Schema Design<a href="#principles-of-good-schema-design" class="hash-link" aria-label="Direct link to Principles of Good Schema Design" title="Direct link to Principles of Good Schema Design">â€‹</a></h2>
<ul>
<li><strong>Explicitness:</strong> Define all fields, types, and constraints clearly.</li>
<li><strong>Validation:</strong> Use OpenAPI&#x27;s built-in validation keywords (<code>type</code>, <code>format</code>, <code>enum</code>, <code>pattern</code>, etc.).</li>
<li><strong>Reusability:</strong> Use <code>$ref</code> and <code>components/schemas</code> to avoid duplication.</li>
<li><strong>Extensibility:</strong> Leverage OpenAPI extensions (e.g., <code>x-hapi</code>) for MCP-specific needs.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Design your schemas with future agents and tools in mind. Well-structured schemas make it easier for MCP-powered agents to reason about and use your API.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-user-schema">Example: User Schema<a href="#example-user-schema" class="hash-link" aria-label="Direct link to Example: User Schema" title="Direct link to Example: User Schema">â€‹</a></h2>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">schemas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">User</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">required</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">email</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">format</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> email</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">roles</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">items</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-enums-and-constraints">Using Enums and Constraints<a href="#using-enums-and-constraints" class="hash-link" aria-label="Direct link to Using Enums and Constraints" title="Direct link to Using Enums and Constraints">â€‹</a></h2>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">schemas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">Status</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">enum</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">active</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> inactive</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pending</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Avoid using overly generic types (like <code>object</code>). This can make validation and documentation less effective.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="oneof-what-is-it-when-and-how-to-use-it"><code>oneOf</code>, What is it? When and How to use it?<a href="#oneof-what-is-it-when-and-how-to-use-it" class="hash-link" aria-label="Direct link to oneof-what-is-it-when-and-how-to-use-it" title="Direct link to oneof-what-is-it-when-and-how-to-use-it">â€‹</a></h2>
<p>JSON Schema is a powerful tool for validating complex data structures. The <a href="https://swagger.io/docs/specification/v3_0/data-models/oneof-anyof-allof-not/#oneof" target="_blank" rel="noopener noreferrer"><code>oneOf</code></a> keyword allows you to specify that a value must match exactly one of the given schemas, <strong>valid against exactly one</strong> (XOR) of the subschemas.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">schemas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">User</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">oneOf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">const</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;admin&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">const</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><br></span></code></pre></div></div>
<p>When you design your schemas, consider how they will be used by both humans and machines. Clear, concise schemas improve developer experience and reduce errors. For instance, if your API defines a <code>path</code> parameter that can accept multiple types, using <a href="https://json-schema.org/understanding-json-schema/reference/combining#anyOf" target="_blank" rel="noopener noreferrer"><code>oneOf</code></a> can make this explicit. Unfortunately, in the MCP context, the use of <code>oneOf</code> can be limited by the need for more specific type information, agents (human-like) need to understand the context better.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="approaches-for-handling-oneof-schemas-in-mcp-input-generation">Approaches for Handling <code>oneOf</code> Schemas in MCP Input Generation<a href="#approaches-for-handling-oneof-schemas-in-mcp-input-generation" class="hash-link" aria-label="Direct link to approaches-for-handling-oneof-schemas-in-mcp-input-generation" title="Direct link to approaches-for-handling-oneof-schemas-in-mcp-input-generation">â€‹</a></h3>
<p>When creating JSON schemas for tools in the Model Context Protocol (MCP), using the <code>oneOf</code> keyword can be challenging. If your API needs to accept different object types in the <code>requestBody</code>, <code>oneOf</code> helps you list all allowed types. However, you must define every possible type in advance, both on the client and server sides. At runtime, choosing the correct type can be difficult.</p>
<p>In the HAPI Server, we solved this by combining client-side type hints with server-side validation. Here are the options we considered:</p>
<ol>
<li>Use a Discriminator Property</li>
<li>Generate Separate Tool Definitions</li>
<li>Merge All Properties into One Schema</li>
<li>Resolve Schemas Dynamically</li>
</ol>
<p>We chose <strong>option 2: Generate Separate Tool Definitions</strong> because:</p>
<ul>
<li>It does not change the original schema.</li>
<li>API consumers do not need to make any changes.</li>
<li>It keeps each type exclusive, so invalid combinations are avoided.</li>
<li>It allows tools to be created as needed, making the system flexible.</li>
</ul>
<p>This approach makes it easier for both humans and machines to work with the API, and helps prevent errors.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tool-definition-example">Tool Definition example<a href="#tool-definition-example" class="hash-link" aria-label="Direct link to Tool Definition example" title="Direct link to Tool Definition example">â€‹</a></h4>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ... remove other methods for simplicity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">post</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># ... removed content for simplicity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">requestBody</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">required</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">content</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">application/json</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">schema</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">oneOf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># &lt;-- This indicates that the request body must match exactly one of the specified schemas</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Person&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Company&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">registrationNumber</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token key atrule" style="color:#00a4db">format</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> uuid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ... removed content for simplicity</span><br></span></code></pre></div></div>
<p>In this example, the <code>oneOf</code> construct is used to define two possible schemas for the request body: one for a <code>Person</code> and another for a <code>Company</code>. This creates separate tool definitions for each schema variant:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Tool 1: createPerson</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tool 2: createCompany</span><br></span></code></pre></div></div>
<p>Each with its own schema definition, instead of trying to represent a union type.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices">â€‹</a></h2>
<ul>
<li>Use <code>$ref</code> to share common models across endpoints.</li>
<li>Document all fields, even optional ones.</li>
<li>Use OpenAPI&#x27;s <code>description</code> fields for clarity.</li>
<li>Validate with tools like Swagger Editor or openapi-generator.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="further-reading">Further Reading<a href="#further-reading" class="hash-link" aria-label="Direct link to Further Reading" title="Direct link to Further Reading">â€‹</a></h2>
<ul>
<li><a href="https://swagger.io/specification/#schema-object" target="_blank" rel="noopener noreferrer">OpenAPI Schema Object</a></li>
<li><a href="https://github.com/la-rebelion/hapi-mcp" target="_blank" rel="noopener noreferrer">HAPI MCP source code</a></li>
<li><a href="https://github.com/la-rebelion" target="_blank" rel="noopener noreferrer">Model Context Protocol (MCP)</a></li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/components/hapi-server/openapi/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">OpenAPI Integration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/components/hapi-server/openapi/validation-layers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Validation Layers</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#principles-of-good-schema-design" class="table-of-contents__link toc-highlight">Principles of Good Schema Design</a></li><li><a href="#example-user-schema" class="table-of-contents__link toc-highlight">Example: User Schema</a></li><li><a href="#using-enums-and-constraints" class="table-of-contents__link toc-highlight">Using Enums and Constraints</a></li><li><a href="#oneof-what-is-it-when-and-how-to-use-it" class="table-of-contents__link toc-highlight"><code>oneOf</code>, What is it? When and How to use it?</a><ul><li><a href="#approaches-for-handling-oneof-schemas-in-mcp-input-generation" class="table-of-contents__link toc-highlight">Approaches for Handling <code>oneOf</code> Schemas in MCP Input Generation</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further Reading</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer" style="background:linear-gradient(135deg, hsl(0 0% 100%) 0%, hsl(210 40% 96.1%) 50%, hsl(187 85% 95%) 100%);border-top:1px solid hsl(214.3 31.8% 91.4%);position:relative;overflow:hidden"><div style="position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 25% 25%, hsl(187 85% 53% / 0.05) 0%, transparent 50%), radial-gradient(circle at 75% 75%, hsl(187 85% 53% / 0.03) 0%, transparent 50%);opacity:0.2"></div><div style="position:absolute;top:0;left:0;right:0;bottom:0;background:url(&quot;data:image/svg+xml,%3Csvg width=&quot;60&quot; height=&quot;60&quot; viewBox=&quot;0 0 60 60&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;%3E%3Cdefs%3E%3Cpattern id=&quot;grid&quot; width=&quot;60&quot; height=&quot;60&quot; patternUnits=&quot;userSpaceOnUse&quot;%3E%3Cpath d=&quot;M 60 0 L 0 0 0 60&quot; fill=&quot;none&quot; stroke=&quot;%23000000&quot; stroke-width=&quot;0.5&quot; stroke-opacity=&quot;0.02&quot;/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=&quot;100%25&quot; height=&quot;100%25&quot; fill=&quot;url(%23grid)&quot;/%3E%3C/svg%3E&quot;)"></div><div class="container container-fluid" style="position:relative;z-index:1"><div style="text-align:center;padding:3rem 0 2rem;border-bottom:1px solid hsl(214.3 31.8% 91.4%);margin-bottom:2.5rem"><div style="display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:1.5rem"><img src="/img/android-chrome-192x192.png" alt="MCP" style="height:48px;filter:brightness(1.1) drop-shadow(0 2px 8px rgba(17, 147, 176, 0.2));transition:all 0.3s ease"><img src="/img/logo.svg" alt="MCP Text Logo" style="height:48px;filter:brightness(1.1) drop-shadow(0 2px 8px rgba(17, 147, 176, 0.2));transition:all 0.3s ease"></div><h3 style="color:hsl(222.2 84% 4.9%);font-size:1.5rem;font-weight:700;margin:0 0 0.5rem 0;-webkit-background-clip:text;background-clip:text">Model Context Protocol AI</h3><p style="color:hsl(215.4 16.3% 46.9%);font-size:1.1rem;margin:0 0 1rem 0;font-weight:500;max-width:600px;margin-left:auto;margin-right:auto">Connecting AI models with the world through standardized protocols</p></div><div class="row footer__links"><div class="theme-layout-footer-column col footer__col" style="margin-bottom:2rem"><div class="footer__title" style="color:#e8a896;font-size:1.1rem;font-weight:600;margin-bottom:1rem;text-transform:uppercase;letter-spacing:0.5px">Solutions</div><ul class="footer__items clean-list" style="list-style:none;padding:0"><li class="footer__item"><a href="https://run.mcp.com.ai" target="_blank" rel="noopener noreferrer" class="footer__link-item" style="color:rgba(255, 255, 255, 0.8);text-decoration:none;font-size:0.95rem;line-height:1.6;display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0;transition:all 0.2s ease;border-radius:4px">runMCP</a></li><li class="footer__item"><a href="https://chat.mcp.com.ai" target="_blank" rel="noopener noreferrer" class="footer__link-item" style="color:rgba(255, 255, 255, 0.8);text-decoration:none;font-size:0.95rem;line-height:1.6;display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0;transition:all 0.2s ease;border-radius:4px">chatMCP</a></li><li class="footer__item"><a href="https://hapi.mcp.com.ai" target="_blank" rel="noopener noreferrer" class="footer__link-item" style="color:rgba(255, 255, 255, 0.8);text-decoration:none;font-size:0.95rem;line-height:1.6;display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0;transition:all 0.2s ease;border-radius:4px">HAPI MCP</a></li></ul></div><div class="theme-layout-footer-column col footer__col" style="margin-bottom:2rem"><div class="footer__title" style="color:#e8a896;font-size:1.1rem;font-weight:600;margin-bottom:1rem;text-transform:uppercase;letter-spacing:0.5px">Community</div><ul class="footer__items clean-list" style="list-style:none;padding:0"><li class="footer__item"><a href="https://www.youtube.com/@LaRebelion" target="_blank" rel="noopener noreferrer" class="footer__link-item" style="color:rgba(255, 255, 255, 0.8);text-decoration:none;font-size:0.95rem;line-height:1.6;display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0;transition:all 0.2s ease;border-radius:4px">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/EpHzbPee" target="_blank" rel="noopener noreferrer" class="footer__link-item" style="color:rgba(255, 255, 255, 0.8);text-decoration:none;font-size:0.95rem;line-height:1.6;display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0;transition:all 0.2s ease;border-radius:4px">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/LaRebelionLabs" target="_blank" rel="noopener noreferrer" class="footer__link-item" style="color:rgba(255, 255, 255, 0.8);text-decoration:none;font-size:0.95rem;line-height:1.6;display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0;transition:all 0.2s ease;border-radius:4px">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col" style="margin-bottom:2rem"><div class="footer__title" style="color:#e8a896;font-size:1.1rem;font-weight:600;margin-bottom:1rem;text-transform:uppercase;letter-spacing:0.5px">More</div><ul class="footer__items clean-list" style="list-style:none;padding:0"><li class="footer__item"><a href="https://github.com/la-rebelion/mcp-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item" style="color:rgba(255, 255, 255, 0.8);text-decoration:none;font-size:0.95rem;line-height:1.6;display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0;transition:all 0.2s ease;border-radius:4px">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://rebelion.la/series/mcp" target="_blank" rel="noopener noreferrer" class="footer__link-item" style="color:rgba(255, 255, 255, 0.8);text-decoration:none;font-size:0.95rem;line-height:1.6;display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0;transition:all 0.2s ease;border-radius:4px">Blog<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://go.rebelion.la/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item" style="color:rgba(255, 255, 255, 0.8);text-decoration:none;font-size:0.95rem;line-height:1.6;display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0;transition:all 0.2s ease;border-radius:4px">Contact Us<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center" style="margin-top:2.5rem;padding-top:2rem;border-top:1px solid hsl(214.3 31.8% 91.4%);background:linear-gradient(90deg, transparent 0%, hsl(210 40% 96.1% / 0.8) 50%, transparent 100%);border-radius:8px;padding:2rem 1rem"><div style="color:hsl(215.4 16.3% 46.9%);font-size:0.95rem;margin-bottom:1rem;font-weight:500"><div class="footer__copyright">Copyright Â© 2025 by <a href="https://rebelion.la">La Rebelion Labs</a>.</div></div><div style="color:hsl(215.4 16.3% 46.9%);font-size:0.85rem;display:flex;align-items:center;justify-content:center;gap:0.5rem;flex-wrap:wrap"><span>Built with</span><span style="color:hsl(0 84% 60%);font-size:1rem">â¤ï¸</span><span>using</span><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" style="color:hsl(187 85% 43%);text-decoration:none;font-weight:600;transition:all 0.2s ease">Docusaurus</a><span>and enhanced with AI peer programming</span></div></div></div></footer></div>
</body>
</html>