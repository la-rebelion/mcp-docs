"use strict";(self.webpackChunkmcp_docs=self.webpackChunkmcp_docs||[]).push([[948],{5269:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"examples/mcp-servers-from-oas/openai-mcp","title":"OpenAI MCP Server: Integration Guide","description":"Learn how to build a lean, efficient Model Context Protocol (MCP) server for OpenAI using HAPI CLI. Optimize token usage and focus your AI agents.","source":"@site/docs/4-examples/mcp-servers-from-oas/openai-mcp.md","sourceDirName":"4-examples/mcp-servers-from-oas","slug":"/examples/mcp-servers-from-oas/openai-mcp","permalink":"/examples/mcp-servers-from-oas/openai-mcp","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"OpenAI MCP Server: Integration Guide","description":"Learn how to build a lean, efficient Model Context Protocol (MCP) server for OpenAI using HAPI CLI. Optimize token usage and focus your AI agents.","keywords":["OpenAI MCP Server","HAPI MCP","Model Context Protocol","API Integration","OpenAI API","MCP Tools"],"authors":["adrian"]},"sidebar":"tutorialSidebar","previous":{"title":"LinkedIn MCP Server: Integration Guide","permalink":"/examples/mcp-servers-from-oas/linkedin-mcp"},"next":{"title":"Agentic Social Media with Flowise and MCP","permalink":"/examples/use-cases/agentic-social-media-with-flowise"}}');var t=s(4848),r=s(8453);const i={title:"OpenAI MCP Server: Integration Guide",description:"Learn how to build a lean, efficient Model Context Protocol (MCP) server for OpenAI using HAPI CLI. Optimize token usage and focus your AI agents.",keywords:["OpenAI MCP Server","HAPI MCP","Model Context Protocol","API Integration","OpenAI API","MCP Tools"],authors:["adrian"]},a=void 0,l={},c=[{value:"The Challenge: Token Bloat",id:"the-challenge-token-bloat",level:3},{value:"Our Approach: Focused MCP Servers",id:"our-approach-focused-mcp-servers",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Steps to Create an OpenAI MCP Server",id:"steps-to-create-an-openai-mcp-server",level:2},{value:"1. Install HAPI MCP",id:"1-install-hapi-mcp",level:3},{value:"2. Download OpenAI Tools OAS",id:"2-download-openai-tools-oas",level:3},{value:"3. Start the MCP Server",id:"3-start-the-mcp-server",level:3},{value:"4. Test and Integrate",id:"4-test-and-integrate",level:3},{value:"Advanced: Claude Code Skills",id:"advanced-claude-code-skills",level:2},{value:"Deployment Options",id:"deployment-options",level:2},{value:"Docker Example",id:"docker-example",level:3},{value:"Further Resources",id:"further-resources",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Integrating the OpenAI API into a Model Context Protocol (MCP) server is a powerful way to give your AI agents advanced capabilities. With the ",(0,t.jsx)(n.a,{href:"/components/hapi-server/hapi-cli",children:"HAPI CLI"}),", you can quickly wrap OpenAI's endpoints into a standardized MCP interface."]}),"\n",(0,t.jsx)(n.h3,{id:"the-challenge-token-bloat",children:"The Challenge: Token Bloat"}),"\n",(0,t.jsxs)(n.p,{children:["The OpenAI API is extensive. Wrapping the entire API into a single MCP server is generally not recommended due to ",(0,t.jsx)(n.strong,{children:"token bloat"}),". When an MCP client (like Claude) loads server tools, it consumes tokens for each tool definition in the context. Loading hundreds of OpenAI tools simultaneously can lead to unmanageable context windows and increased costs."]}),"\n",(0,t.jsxs)(n.p,{children:["For a deeper dive into this issue, see ",(0,t.jsx)(n.a,{href:"https://mcp.com.ai/mcp-at-scale/how-to-scale-mcp-to-thousands-of-tools-without-destroying-budget",children:"How to scale MCP to thousands of tools without destroying your budget"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"our-approach-focused-mcp-servers",children:"Our Approach: Focused MCP Servers"}),"\n",(0,t.jsxs)(n.p,{children:["Instead of a monolithic server, we recommend creating ",(0,t.jsx)(n.strong,{children:"focused MCP servers"})," that expose only the specific functionality your application needs. In this guide, we will create a minimal MCP server that specifically exposes OpenAI's ",(0,t.jsx)(n.strong,{children:"image"})," and ",(0,t.jsx)(n.strong,{children:"audio generation"})," capabilities."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Before starting, ensure you have:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["An ",(0,t.jsx)(n.strong,{children:"OpenAI API Key"}),": ",(0,t.jsx)(n.a,{href:"https://platform.openai.com/api-keys",children:"Get one here"}),". You will need this to authenticate your MCP server from your AI agents/MCP clients."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"HAPI MCP CLI"}),": Follow the installation steps below."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["You can also include the API key as part of the MCP server configuration using the ",(0,t.jsx)(n.a,{href:"/components/hapi-server/openapi#example-enabling-oauth2-security",children:(0,t.jsx)(n.code,{children:"x-hapi.security"})})," extension in your OpenAPI spec, mapped to the ",(0,t.jsx)(n.code,{children:"security schemes"}),". It is safe, as long as you ",(0,t.jsx)(n.strong,{children:"do not share the spec publicly"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"steps-to-create-an-openai-mcp-server",children:"Steps to Create an OpenAI MCP Server"}),"\n",(0,t.jsx)(n.h3,{id:"1-install-hapi-mcp",children:"1. Install HAPI MCP"}),"\n",(0,t.jsx)(n.p,{children:"The easiest way to install the HAPI MCP CLI is via our install script:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl -fsSL https://get.mcp.com.ai/hapi.sh | bash\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For more installation options, visit the ",(0,t.jsx)(n.a,{href:"/components/hapi-server/hapi-cli",children:"HAPI CLI documentation"})," or the ",(0,t.jsx)(n.a,{href:"https://hapi.mcp.com.ai",children:"HAPI MCP Microsite"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"2-download-openai-tools-oas",children:"2. Download OpenAI Tools OAS"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl -o ~/.hapi/specs/openai-tools.json https://docs.mcp.com.ai/servers-apis/openapi/openai-tools.json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-start-the-mcp-server",children:"3. Start the MCP Server"}),"\n",(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.code,{children:"hapi serve"})," command to launch the server. We are using the HAPI MCP pre-configured OpenAI Tools specification designed for images and audio:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"hapi serve openai-tools --headless --port 3030 --url https://api.openai.com/v1\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This OAS is a slimmed-down version of the ",(0,t.jsx)(n.a,{href:"https://github.com/openai/openai-openapi/tree/manual_spec",children:"full OpenAI API"})," from OpenAI's GitHub, focusing on image generation and audio transcription endpoints."]}),"\n",(0,t.jsx)(n.h3,{id:"4-test-and-integrate",children:"4. Test and Integrate"}),"\n",(0,t.jsx)(n.p,{children:"Once the server is running, you can connect it to any MCP-aware client:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"https://chat.mcp.com.ai",children:"chatMCP"})}),": A powerful web client for testing MCP servers."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"https://code.visualstudio.com/docs/copilot/customization/mcp-servers#_add-an-mcp-server",children:"VS Code"})}),": Add the server to your GitHub Copilot configuration."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"https://www.librechat.ai",children:"LibreChat"})}),": Use OpenAI tools directly within your chat interface."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"An easy way to inspect the MCP server"})," endpoints is to pipe the output of the server into the MCP Inspector:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"hapi serve openai-tools --headless --port 3030 --url https://api.openai.com/v1 | bunx @modelcontextprotocol/inspector\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"advanced-claude-code-skills",children:"Advanced: Claude Code Skills"}),"\n",(0,t.jsxs)(n.p,{children:["If you are a Claude user, you can leverage ",(0,t.jsx)(n.a,{href:"https://platform.claude.com/docs/en/agents-and-tools/agent-skills/overview",children:"Claude Code Skills"})," to build even more sophisticated agents. By connecting your OpenAI MCP server, Claude can intelligently decide when to generate an image or transcribe audio based on the conversation flow."]}),"\n",(0,t.jsxs)(n.p,{children:["Are you a Codex user? You can also connect the OpenAI ",(0,t.jsx)(n.a,{href:"https://developers.openai.com/codex/mcp",children:"MCP with Codex"})," - interested in learning how? Check out our blog, we publish frequent updates on new MCP integrations and use cases! \u270a\ud83c\udffc"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"deployment-options",children:"Deployment Options"}),"\n",(0,t.jsx)(n.h3,{id:"docker-example",children:"Docker Example"}),"\n",(0,t.jsx)(n.p,{children:"For production environments, you can run the OpenAI MCP server as a Docker container. This allows for easy scaling and environment management."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"docker run --name hapi-openai -d \\\n  -p 3030:3030 \\\n  hapimcp/hapi-cli:latest serve \\\n  --openapi https://docs.mcp.com.ai/servers-apis/openapi/openai-tools.json \\\n  --headless \\\n  --url https://api.openai.com/v1\n"})}),"\n",(0,t.jsx)(n.h3,{id:"further-resources",children:"Further Resources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/deployment",children:"HAPI MCP Deployment Guide"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/deployment/docker",children:"Docker Deployment"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Find more ways to deploy in our ",(0,t.jsx)(n.a,{href:"/deployment",children:"Deployment documentation"}),", including Cloudflare and other cloud providers."]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>a});var o=s(6540);const t={},r=o.createContext(t);function i(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);