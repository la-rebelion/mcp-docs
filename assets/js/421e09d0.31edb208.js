"use strict";(self.webpackChunkmcp_docs=self.webpackChunkmcp_docs||[]).push([[1894],{7095:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"deployment/cloud/cloudflare/index","title":"Deploying HAPI MCP Server on Cloudflare Workers","description":"Guide on deploying the HAPI MCP Server to Cloudflare Workers using the HAPI MCP CLI.","source":"@site/docs/8-deployment/cloud/cloudflare/index.mdx","sourceDirName":"8-deployment/cloud/cloudflare","slug":"/deployment/cloud/cloudflare/","permalink":"/deployment/cloud/cloudflare/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Deploying HAPI MCP Server on Cloudflare Workers","sidebar_label":"Cloudflare Deployment","description":"Guide on deploying the HAPI MCP Server to Cloudflare Workers using the HAPI MCP CLI."},"sidebar":"tutorialSidebar","previous":{"title":"Docker","permalink":"/deployment/docker"},"next":{"title":"Fly.io Deployment","permalink":"/deployment/cloud/flyio"}}');var o=r(4848),s=r(8453);const i={title:"Deploying HAPI MCP Server on Cloudflare Workers",sidebar_label:"Cloudflare Deployment",description:"Guide on deploying the HAPI MCP Server to Cloudflare Workers using the HAPI MCP CLI."},a=void 0,d={},t=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Steps",id:"steps",level:2},{value:"1. Authenticate with Cloudflare",id:"1-authenticate-with-cloudflare",level:3},{value:"2. Deploy to Cloudflare Workers",id:"2-deploy-to-cloudflare-workers",level:3},{value:"Key Options",id:"key-options",level:4},{value:"3. (Optional) Advanced Usage",id:"3-optional-advanced-usage",level:3},{value:"4. Monitor and Manage Your Worker",id:"4-monitor-and-manage-your-worker",level:3},{value:"Notes",id:"notes",level:2},{value:"Example: Full Command",id:"example-full-command",level:2},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["This guide explains how to deploy the HAPI MCP Server to Cloudflare Workers using the HAPI MCP CLI (",(0,o.jsx)(n.code,{children:"hapi deploy"}),"). This approach leverages the built-in deployment command and does not require you to write your own worker code or configuration from scratch."]}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["A ",(0,o.jsx)(n.a,{href:"https://dash.cloudflare.com/",children:"Cloudflare"})," account"]}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.a,{href:"https://developers.cloudflare.com/workers/wrangler/install-and-update/",children:"Wrangler CLI"})," installed (",(0,o.jsx)(n.code,{children:"npm install -g wrangler"})," or ",(0,o.jsx)(n.code,{children:"bun install -g wrangler"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.a,{href:"https://hapi.mcp.com.ai",children:"HAPI MCP CLI"})," installed (download and ",(0,o.jsx)(n.a,{href:"https://github.com/la-rebelion/hapimcp/releases/",children:"install the binary"}),")"]}),"\n",(0,o.jsx)(n.li,{children:"An OpenAPI specification URL for your backend API"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"steps",children:"Steps"}),"\n",(0,o.jsx)(n.h3,{id:"1-authenticate-with-cloudflare",children:"1. Authenticate with Cloudflare"}),"\n",(0,o.jsx)(n.p,{children:"Ensure you are authenticated with Cloudflare:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"wrangler whoami\n"})}),"\n",(0,o.jsx)(n.p,{children:"If not authenticated, log in:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"wrangler login\n"})}),"\n",(0,o.jsx)(n.p,{children:"Or, if using the HAPI MCP CLI:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"hapi login\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-deploy-to-cloudflare-workers",children:"2. Deploy to Cloudflare Workers"}),"\n",(0,o.jsxs)(n.p,{children:["The HAPI MCP CLI provides a ",(0,o.jsx)(n.code,{children:"deploy"})," command that deploys the HAPI MCP Server as a Cloudflare Worker. The minimum required option is the OpenAPI spec URL."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Basic example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"hapi deploy --openapi https://petstore3.swagger.io/api/v3/openapi.json\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"With backend URL and custom worker name:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"hapi deploy --openapi https://petstore3.swagger.io/api/v3/openapi.json \\\n  --url https://petstore3.swagger.io/api/v3 \\\n  --name my-hapi-worker\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"With extra environment variables:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"hapi deploy --openapi <OPENAPI_URL> --var API_KEY=your-key --var DEBUG=true\n"})}),"\n",(0,o.jsx)(n.h4,{id:"key-options",children:"Key Options"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--openapi <url>"}),": ",(0,o.jsx)(n.strong,{children:"(Required)"})," URL or path to your OpenAPI spec."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--url <url>"}),": (Optional) Backend base URL for headless mode."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--name <name>"}),": (Optional) Custom worker name (must be RFC 1123 compliant)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--project <project>"}),": (Optional) Project name for grouping deployments."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--var <key=value>"}),": (Optional, repeatable) Extra environment variables."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--dry-run"}),": (Optional) Print actions without executing."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Example output:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\ud83d\udcdd Generating temporary Wrangler config...\n\u2699\ufe0f Deploying to Cloudflare Workers...\n\ud83c\udf0d Live at: https://my-hapi-worker.your-account.workers.dev\n\u2705 Deployed successfully!\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-optional-advanced-usage",children:"3. (Optional) Advanced Usage"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Dry Run:"})," See what would be deployed without making changes:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"hapi deploy --openapi <OPENAPI_URL> --dry-run\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Keep Config:"})," Retain the generated worker files for inspection:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"hapi deploy --openapi <OPENAPI_URL> --keep-config\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Custom Project Name:"})," Useful for grouping or CI/CD:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"hapi deploy --openapi <OPENAPI_URL> --project my-hapi-project\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"4-monitor-and-manage-your-worker",children:"4. Monitor and Manage Your Worker"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["View logs and status in the ",(0,o.jsx)(n.a,{href:"https://dash.cloudflare.com/",children:"Cloudflare dashboard"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"wrangler"})," commands for further management (see ",(0,o.jsx)(n.a,{href:"https://developers.cloudflare.com/workers/wrangler/commands/",children:"Wrangler docs"}),")."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"The worker name must be unique, start with a letter, and use only lowercase letters, numbers, and hyphens."}),"\n",(0,o.jsx)(n.li,{children:"The CLI will attempt to generate a valid name if not provided."}),"\n",(0,o.jsx)(n.li,{children:"For sensitive data, use Cloudflare secrets."}),"\n",(0,o.jsxs)(n.li,{children:["The deployment process will clean up temporary files unless ",(0,o.jsx)(n.code,{children:"--keep-config"})," is specified."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"example-full-command",children:"Example: Full Command"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"hapi deploy --openapi https://petstore3.swagger.io/api/v3/openapi.json \\\n  --url https://petstore3.swagger.io/api/v3 \\\n  --name petstore-hapi \\\n  --var API_KEY=your-key\n"})}),"\n",(0,o.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.mcp.com.ai",children:"HAPI MCP CLI Documentation"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://developers.cloudflare.com/workers/",children:"Cloudflare Workers Documentation"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://developers.cloudflare.com/workers/wrangler/commands/",children:"Wrangler CLI Reference"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://swagger.io/specification/",children:"OpenAPI Specification"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>a});var l=r(6540);const o={},s=l.createContext(o);function i(e){const n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);